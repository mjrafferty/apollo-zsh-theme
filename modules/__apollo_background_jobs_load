# vim:ft=zsh
#

__apollo_background_jobs_cache_key() {
  __APOLLO_RETURN_MESSAGE="${(%):-%j}"
}

__apollo_background_jobs_run() {

  local -i line
  local side mode always_show

  line="$1"
  side="$2"
  mode="default"

  zstyle -b ":apollo:background_jobs:${mode}:${line}:${side}" always_show always_show

  if [[ "${always_show}" == "yes" ]]; then
    __APOLLO_RETURN_MESSAGE="${(%):-%j}"
  else
    __APOLLO_RETURN_MESSAGE="${(%):-%(1j.%j.)}"
  fi

}
