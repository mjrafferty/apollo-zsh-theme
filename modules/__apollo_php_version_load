# vim:ft=zsh
################################################################
# Segment to display PHP version number

__apollo_php_version_cache_key() {
  __APOLLO_RETURN_MESSAGE="1"
}

__apollo_php_version_run() {

  if [[ -n "${__APOLLO_ASYNC_RESULTS[php_version]}" ]]; then
    __APOLLO_RETURN_MESSAGE="${__APOLLO_ASYNC_RESULTS[php_version]}"
  else
    __APOLLO_RETURN_MESSAGE=""
  fi

}

__apollo_php_version_async() {

  command php --no-php-ini --version | grep -Po -m1 '^PHP \K[0-9,.]*'

}
