# vim:ft=zsh
################################################################
# System date

typeset -g APOLLO_DATE_FORMAT="%D{%m-%d-%y}"

__apollo_date_cache_key() {
  __APOLLO_RETURN_MESSAGE="${(%):-%D}"
}

__apollo_date_run() {

  local d=$APOLLO_DATE_FORMAT

  if [[ $APOLLO_EXPERIMENTAL_TIME_REALTIME != true ]]; then
    d=${(%)d}
  fi

  __APOLLO_RETURN_MESSAGE="${d//\%/%%}"

}

__apollo_date_run "$@"
