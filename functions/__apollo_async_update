# vim:ft=zsh

__apollo_async_update() {

  local module="$1"
  local x
  local -a module_info

  for x in "${(s.,.)__APOLLO_REVERSE_MODULE_MAP[$module]}"; do

    module_info=("${(s.:.)x}")

    __apollo_set_module_text "${module}" "${module_info[1]}" "${module_info[2]}" "${module_info[3]}"

  done

  __apollo_update_prompts

  zle && zle .reset-prompt

}

__apollo_async_update "$@"
