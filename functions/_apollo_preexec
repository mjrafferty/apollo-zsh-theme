# vim:ft=zsh

_apollo_preexec() {

  # Run preexec hooks for modules
  for module in "${APOLLO_LEFT_PROMPT_MODULES[@]}" "${APOLLO_RIGHT_PROMPT_MODULES[@]}"; do
    if ((${+functions[_apollo_${module}_preexec]})); then
      "_apollo_${module}_preexec";
    fi
  done

  # Reset break cache counter anytime a command is run.
  _APOLLO_BREAK_CACHE_COUNTER=0;

}

_apollo_preexec "$@"
