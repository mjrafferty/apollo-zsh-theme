# vim:ft=zsh

_apollo_preexec() {

  # Run preexec hooks for modules
  for element in "${APOLLO_LEFT_PROMPT_ELEMENTS[@]}" "${APOLLO_RIGHT_PROMPT_ELEMENTS[@]}"; do
    if ((${+functions[_apollo_${element}_preexec]})); then
      "_apollo_${element}_preexec";
    fi
  done

  # Reset break cache counter anytime a command is run.
  _APOLLO_BREAK_CACHE_COUNTER=0;

}

_apollo_preexec "$@"
